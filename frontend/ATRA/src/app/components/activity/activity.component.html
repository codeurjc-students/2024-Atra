<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="h5 mb-0">Select an Activity</h2>
    <div>
      <button class="btn btn-danger mx-2"><i class="fa-solid fa-trash"></i> Delete</button>
      <button class="btn btn-warning"><i class="fa-solid fa-pencil"></i> Edit</button>
    </div>
  </div>
  <!-- Tabs -->
  <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
          <button class="nav-link active" id="summary-tab" data-bs-toggle="tab" data-bs-target="#summary" type="button" role="tab" aria-controls="summary" aria-selected="true">Summary</button>
      </li>
      <li class="nav-item" role="presentation">
          <button class="nav-link" id="study-tab" data-bs-toggle="tab" data-bs-target="#study" type="button" role="tab" aria-controls="study" aria-selected="false">Study</button>
      </li>
      <li class="nav-item" role="presentation">
          <button class="nav-link" id="segments-tab" data-bs-toggle="tab" data-bs-target="#segments" type="button" role="tab" aria-controls="segments" aria-selected="false">Segments</button>
      </li>
  </ul>

  <!-- Tab Content -->
  <div class="tabs-container">
      <div class="tab-content" id="myTabContent">
          <div class="tab-pane fade show active d-flex justify-content-between align-items-top " id="summary" role="tabpanel" aria-labelledby="summary-tab">
              <div class="w-50 h-50 mx-2">
                <h5>Overview</h5>
                <div class="embedded-container w-100 h-100">
                  <ul>
                    <li *ngFor="let stat of stats"> {{stat.name}}: {{stat.value}}</li>
                  </ul>
                </div>
              </div>
              <div class="w-50 h-50 mx-2">
                <h5>Map</h5>
                <div class="embedded-container w-100 h-100">

                </div>
              </div>
          </div>



          <div class="tab-pane fade" id="study" role="tabpanel" aria-labelledby="study-tab">
            <div class="container d-flex flex-column">
              <!-- Top Section: Dropdown and Containers -->

              <!-- Metric selector -->
              <div class="row mb-1">
                <div class="col-12">
                  <div class="d-flex align-items-center mb-3">
                    <label for="metricSelect" class="form-label me-2 fw-bold">Metric:</label>
                    <select class="form-select w-auto" id="metricSelect" [(ngModel)]="selectedMetric">
                      <option *ngFor="let metric of metrics" [value]="metric">{{ metric }}</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- Goals Container -->
              <div class="row flex-grow-1 overflow-auto">
                <div class="col-4">
                  <div class="card mb-2">
                    <div class="card-header fw-bold">Goals</div>
                    <div class="card-body">
                      <form>
                        <div class=" d-flex align-items-center justify-content-between">
                          <label for="lowerLimit" class="form-label">Lower Limit</label>
                          <input type="number" step="0.1" class="form-control w-25" id="lowerLimit" [(ngModel)]="goals.worst" name="lowerLimit" />
                        </div>
                        <div class=" d-flex align-items-center justify-content-between">
                          <label for="upperLimit" class="form-label">Upper Limit</label>
                          <input type="number" step="0.1" class="form-control w-25" id="upperLimit" [(ngModel)]="goals.best" name="upperLimit" />
                        </div>
                        <div class=" d-flex align-items-center justify-content-between">
                          <label for="goal" class="form-label">Goal</label>
                          <input type="number" step="0.1" class="form-control w-25" id="goal" [(ngModel)]="goals.target" name="goal" />
                        </div>
                      </form>
                    </div>
                  </div>

                  <div class="card">
                    <div class="card-header fw-bold">Ratings</div>
                    <div class="card-body overflow-auto">
                      <div class="row">
                        <div class="col-6" *ngFor="let rating of ratings">
                          <p class="mb-1"><strong>{{ rating.name }}:</strong> {{ rating.value }}</p>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>

                <div class="col-8" #chartContainer>
                  <div class="card">
                    <div class="card-body text-center">Graph 1
                      <ngx-charts-line-chart
                        [view]="view"
                        [results]="[{'name':currentMetric, 'series':dataset}]"
                        [xAxisLabel]="'x-axis'"
                        [legendTitle]="'legend'"
                        [yAxisLabel]="'y-axis'"
                        [legend]="false"
                        [showXAxisLabel]="true"
                        [showYAxisLabel]="true"
                        [xAxis]="true"
                        [yAxis]="true"
                        [gradient]="true"
                        [autoScale]="true"> <!--[yAxisTickFormatting]="yAxisTickFormatting"-->
                      </ngx-charts-line-chart>
                    </div>
                  </div>

                </div>
              </div>


              <!--<div class="row mb-2">
                <div class="col-4">
                  <div class="card">
                    <div class="card-header fw-bold">Goals</div>
                    <div class="card-body">
                      <form>
                        <div class=" d-flex align-items-center justify-content-between">
                          <label for="lowerLimit" class="form-label">Lower Limit</label>
                          <input type="number" step="0.1" class="form-control w-25" id="lowerLimit" [(ngModel)]="goals.worst" name="lowerLimit" />
                        </div>
                        <div class=" d-flex align-items-center justify-content-between">
                          <label for="upperLimit" class="form-label">Upper Limit</label>
                          <input type="number" step="0.1" class="form-control w-25" id="upperLimit" [(ngModel)]="goals.best" name="upperLimit" />
                        </div>
                        <div class=" d-flex align-items-center justify-content-between">
                          <label for="goal" class="form-label">Goal</label>
                          <input type="number" step="0.1" class="form-control w-25" id="goal" [(ngModel)]="goals.target" name="goal" />
                        </div>
                      </form>
                    </div>
                  </div>
                </div>



                </div>
              </div>-->

              <!-- Ratings Container -->
              <!--<div class="row">
                <div class="col-4">
                  <div class="card h-100">
                    <div class="card-header fw-bold">Ratings</div>
                    <div class="card-body overflow-auto">
                      <div class="row">
                        <div class="col-6" *ngFor="let rating of ratings">
                          <p class="mb-1"><strong>{{ rating.name }}:</strong> {{ rating.value }}</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>-->

              <!-- Bottom Section: Graphs --><!--
              <div class="row">
                <div class="col-4">
                  <div class="card">
                    <div class="card-body text-center">Graph 1
                      <ngx-charts-line-chart
                        [view]="[400,400]"
                        [results]="[{'name':currentMetric, 'series':dataset}]"
                        [xAxisLabel]="'x-axis'"
                        [legendTitle]="'legend'"
                        [yAxisLabel]="'y-axis'"
                        [legend]="true"
                        [showXAxisLabel]="true"
                        [showYAxisLabel]="true"
                        [xAxis]="true"
                        [yAxis]="true"
                        [gradient]="true">
                    </ngx-charts-line-chart>
                    </div>
                  </div>
                </div>
                <div class="col-4">
                  <div class="card">
                    <div class="card-body text-center">Graph 2</div>
                  </div>
                </div>
                <div class="col-4">
                  <div class="card">
                    <div class="card-body text-center">Graph 3</div>
                  </div>
                </div>
              </div>-->
            </div>
          </div>















          <div class="tab-pane fade" id="segments" role="tabpanel" aria-labelledby="segments-tab">
              <p>Segments content goes here...</p>
          </div>
      </div>
  </div>
</div>
